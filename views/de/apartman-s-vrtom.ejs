<!DOCTYPE html>
<html lang="de">
<head>
    <%- include('../modules/head', { pageTitle: 'Wohnung mit Garten - Apartmani Šibenik', device: device }) %>
    <link rel="stylesheet" href="/stylesheets/hr/home.css">
    <link rel="stylesheet" href="/stylesheets/index/reviews.css">
    
    <style>
        /* Optimizacija reviews modula u hero sekciji - fiksna visina s scroll */
        .hero-visual .reviews-module {
            width: 90%;
            height: 70%;
            margin: 0 auto;
            overflow-y: auto; /* Omogućavamo vertikalno skrolanje */
            /* Skrivanje scroll bara */
            scrollbar-width: none; /* Firefox */
            -ms-overflow-style: none; /* Internet Explorer 10+ */
            /* Zadržavamo originalni glassmorphism design iz reviews.css */
        }
        
        /* Skrivanje scroll bara za WebKit browsere (Chrome, Safari, Edge) */
        .hero-visual .reviews-module::-webkit-scrollbar {
            display: none;
        }
        
        /* Optimizacija hero-visual kontejnera */
        .hero-visual {
            min-height: 500px;
            display: flex !important;
            align-items: center !important;
            justify-content: center !important;
        }
        
        /* Responsive prilagodbe za hero-visual */
        @media (max-width: 1024px) {
            .hero-visual .reviews-module {
                width: 85%;
                height: 75%;
            }
        }
        
        @media (max-width: 768px) {
            .hero-visual .reviews-module {
                width: 90%;
                height: 80%;
            }
        }
        
        @media (max-width: 480px) {
            .hero-visual .reviews-module {
                width: 95%;
                height: 85%;
            }
        }
    </style>

</head>
<body class="apartman-s-vrtom">
    <%- include('../modules/header', { lang: 'de', base: '/de/desktop' }) %>
    
    <main>
        <!-- Hero sekcija -->
        <section class="hero-section" style="background-image: url('/images/apartments/apartman-vrt/main-day.jpg');">
            <div class="hero-content">
                <h1 class="hero-title" style="color: #ffffff; text-shadow: 2px 2px 8px rgba(0, 0, 0, 0.8), 0 0 15px rgba(0, 0, 0, 0.6); font-weight: 900;">Wohnung mit Garten <img src="/images/icons/garden.png" alt="vrt" class="hearth-icon"></h1>
                <p class="hero-description">Geräumige Luxuswohnung mit privatem Garten und Grill, ideal für Familien bis zu 4 Personen. Genießen Sie die Ruhe der Natur mit allen modernen Annehmlichkeiten im Herzen von Šibenik.</p>

                <div class="hero-features">
                    <div class="feature-item">
                        <img src="/images/icons/unesco.png" alt="UNESCO" class="feature-icon">
                        <span>10 min bis zum UNESCO-Weltkulturerbe</span>
                    </div>
                    <div class="feature-item">
                        <img src="/images/icons/beach.png" alt="Strand" class="feature-icon">
                        <span>25 min bis zum Strand</span>
                    </div>
                    <div class="feature-item">
                        <img src="/images/icons/parking.png" alt="Parken" class="feature-icon">
                        <span>Kostenloses Parken</span>
                    </div>
                </div>

                <div class="hero-actions">
                    <button class="explore-btn primary" onclick="smoothScrollToSection('.reservation-section')">
                        <span>Jetzt anfragen</span>
                    </button>
                    <button class="explore-btn secondary" onclick="smoothScrollToSection('.about-apartment')">
                        <span>Mehr erfahren</span>
                    </button>
                </div>
            </div>
            <div class="hero-visual">
                <%- include('../modules/reviews', { 
                    unitId: '1',
                    averageRating: reviewsData?.averageRating || 4.9,
                    totalReviews: reviewsData?.totalReviews || 127,
                    platforms: reviewsData?.platforms || {
                        airbnb: { rating: 4.9, totalReviews: 67 },
                        booking: { rating: 4.8, totalReviews: 60 }
                    },
                    reviews: reviewsData?.allReviews || [], // Koristimo sve recenzije za Load More funkcionalnost
                    upvoteData: upvoteData || null
                }) %>
            </div>
        </section>

        <!-- O apartmanu sekcija -->
        <section class="about-apartment section-spacing">
            <div class="container">
                <div class="content-grid">
                    <div class="text-content">
                        <h2 class="section-title">Über die Wohnung</h2>
                        <div class="text-block">
                            <p><strong>Ihre Oase der Ruhe im Herzen von Šibenik</strong> - Wunderschön eingerichtete, klimatisierte Wohnung mit bequemen Betten, voll ausgestatteter Küche, geräumigem Badezimmer, zusätzlichem Zimmer und spektakulärem Garten voller Blumen und mit Schildkröten. Hier können Sie den Tag mit einer Tasse Kaffee beginnen, ein Mittagessen an der frischen Luft genießen oder ein Glas Wein unter dem Sternenhimmel zu einem Abendessen zubereitet auf dem Grill im Freien trinken.</p>

                            <p><strong>Alles zu Ihrer Verfügung</strong> - Als unsere Gäste haben Sie exklusiven Zugang zur gesamten Wohnung und zum Garten. Bei Aufenthalten von mehr als einer Woche ist es möglich, einen Rabatt auf die Unterkunft zu erhalten - nutzen Sie die perfekte Gelegenheit, um das reiche kulturelle Erbe der Stadt zu erkunden!</p>

                            <p><strong>Wir sind immer da, wenn Sie Rat brauchen</strong> - Ihre Gastgeber leben im Obergeschoss und stehen Ihnen jederzeit für Ratschläge zur besten Erkundung der Stadt, Restaurantempfehlungen, versteckte Strände oder alles andere zur Verfügung, was Ihren Aufenthalt unvergesslich machen kann.</p>

                            <p><strong>Perfekte Kombination aus Komfort und Praktikabilität</strong> - Die Wohnung ist mit allen notwendigen Annehmlichkeiten für vollständige Entspannung ausgestattet: kostenlose Parkplätze in der Nähe der Unterkunft, Waschmaschine, kostenloses Fernsehen und WLAN, Kaffeemaschine für den perfekten Morgenkaffee, Haartrockner, Shampoo und ein wunderschön gestalteter Garten, in dem Sie die Ruhe fernab vom Stadtlärm genießen können.</p>

                            <p><strong>Ideale Lage zur Erkundung</strong> - In einer ruhigen Gegend von Šibenik gelegen, ist die Wohnung der perfekte Ausgangspunkt, um die UNESCO-Kathedrale St. Jakob, einen Spaziergang durch die Altstadt oder einen Ausflug in die nahegelegenen Nationalparks Krka und Kornati zu planen.</p>
                        </div>
                    </div>
                    <div class="gallery-content">
                        <div class="apartment-gallery">
                            <%- include('../modules/gallery', { 
                                images: [
                                    { fullsize: '/galleries/apartments/apartman-vrt/veliki-1.jpg', thumbnail: '/galleries/apartments/apartman-vrt/veliki-1.jpg', alt: 'Apartman s vrtom - Slika 1' },
                                    { fullsize: '/galleries/apartments/apartman-vrt/veliki-2.jpg', thumbnail: '/galleries/apartments/apartman-vrt/veliki-2.jpg', alt: 'Apartman s vrtom - Slika 2' },
                                    { fullsize: '/galleries/apartments/apartman-vrt/veliki-3.jpg', thumbnail: '/galleries/apartments/apartman-vrt/veliki-3.jpg', alt: 'Apartman s vrtom - Slika 3' },
                                    { fullsize: '/galleries/apartments/apartman-vrt/veliki-4.jpg', thumbnail: '/galleries/apartments/apartman-vrt/veliki-4.jpg', alt: 'Apartman s vrtom - Slika 4' },
                                    { fullsize: '/galleries/apartments/apartman-vrt/veliki-5.jpg', thumbnail: '/galleries/apartments/apartman-vrt/veliki-5.jpg', alt: 'Apartman s vrtom - Slika 5' },
                                    { fullsize: '/galleries/apartments/apartman-vrt/veliki-6.jpg', thumbnail: '/galleries/apartments/apartman-vrt/veliki-6.jpg', alt: 'Apartman s vrtom - Slika 6' },
                                    { fullsize: '/galleries/apartments/apartman-vrt/veliki-7.jpg', thumbnail: '/galleries/apartments/apartman-vrt/veliki-7.jpg', alt: 'Apartman s vrtom - Slika 7' },
                                    { fullsize: '/galleries/apartments/apartman-vrt/veliki-8.jpg', thumbnail: '/galleries/apartments/apartman-vrt/veliki-8.jpg', alt: 'Apartman s vrtom - Slika 8' },
                                    { fullsize: '/galleries/apartments/apartman-vrt/veliki-9.jpg', thumbnail: '/galleries/apartments/apartman-vrt/veliki-9.jpg', alt: 'Apartman s vrtom - Slika 9' },
                                    { fullsize: '/galleries/apartments/apartman-vrt/veliki-10.jpg', thumbnail: '/galleries/apartments/apartman-vrt/veliki-10.jpg', alt: 'Apartman s vrtom - Slika 10' },
                                    { fullsize: '/galleries/apartments/apartman-vrt/veliki-11.jpg', thumbnail: '/galleries/apartments/apartman-vrt/veliki-11.jpg', alt: 'Apartman s vrtom - Slika 11' },
                                    { fullsize: '/galleries/apartments/apartman-vrt/veliki-12.jpg', thumbnail: '/galleries/apartments/apartman-vrt/veliki-12.jpg', alt: 'Apartman s vrtom - Slika 12' },
                                    { fullsize: '/galleries/apartments/apartman-vrt/veliki-13.jpg', thumbnail: '/galleries/apartments/apartman-vrt/veliki-13.jpg', alt: 'Apartman s vrtom - Slika 13' },
                                    { fullsize: '/galleries/apartments/apartman-vrt/veliki-14.jpg', thumbnail: '/galleries/apartments/apartman-vrt/veliki-14.jpg', alt: 'Apartman s vrtom - Slika 14' },
                                    { fullsize: '/galleries/apartments/apartman-vrt/veliki-15.jpg', thumbnail: '/galleries/apartments/apartman-vrt/veliki-15.jpg', alt: 'Apartman s vrtom - Slika 15' },
                                    { fullsize: '/galleries/apartments/apartman-vrt/veliki-16.jpg', thumbnail: '/galleries/apartments/apartman-vrt/veliki-16.jpg', alt: 'Apartman s vrtom - Slika 16' },
                                    { fullsize: '/galleries/apartments/apartman-vrt/veliki-17.jpg', thumbnail: '/galleries/apartments/apartman-vrt/veliki-17.jpg', alt: 'Apartman s vrtom - Slika 17' },
                                    { fullsize: '/galleries/apartments/apartman-vrt/veliki-18.jpg', thumbnail: '/galleries/apartments/apartman-vrt/veliki-18.jpg', alt: 'Apartman s vrtom - Slika 18' },
                                    { fullsize: '/galleries/apartments/apartman-vrt/veliki-19.jpg', thumbnail: '/galleries/apartments/apartman-vrt/veliki-19.jpg', alt: 'Apartman s vrtom - Slika 19' },
                                    { fullsize: '/galleries/apartments/apartman-vrt/veliki-20.jpg', thumbnail: '/galleries/apartments/apartman-vrt/veliki-20.jpg', alt: 'Apartman s vrtom - Slika 20' },
                                    { fullsize: '/galleries/apartments/apartman-vrt/veliki-21.jpg', thumbnail: '/galleries/apartments/apartman-vrt/veliki-21.jpg', alt: 'Apartman s vrtom - Slika 21' },
                                    { fullsize: '/galleries/apartments/apartman-vrt/veliki-22.jpg', thumbnail: '/galleries/apartments/apartman-vrt/veliki-22.jpg', alt: 'Apartman s vrtom - Slika 22' },
                                    { fullsize: '/galleries/apartments/apartman-vrt/veliki-23.jpg', thumbnail: '/galleries/apartments/apartman-vrt/veliki-23.jpg', alt: 'Apartman s vrtom - Slika 23' },
                                    { fullsize: '/galleries/apartments/apartman-vrt/veliki-24.jpg', thumbnail: '/galleries/apartments/apartman-vrt/veliki-24.jpg', alt: 'Apartman s vrtom - Slika 24' },
                                    { fullsize: '/galleries/apartments/apartman-vrt/veliki-25.jpg', thumbnail: '/galleries/apartments/apartman-vrt/veliki-25.jpg', alt: 'Apartman s vrtom - Slika 25' },
                                    { fullsize: '/galleries/apartments/apartman-vrt/veliki-26.jpg', thumbnail: '/galleries/apartments/apartman-vrt/veliki-26.jpg', alt: 'Apartman s vrtom - Slika 26' }
                                ] 
                            }) %>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Kalendar i rezervacija sekcija -->
        <section class="calendar-reservation-section section-spacing">
            <div class="container">
                <div class="calendar-header">
                    <h2>Belegungskalender</h2>
                </div>
                
                <!-- Kalendar modul -->
                <div class="calendar-wrapper">
                    <%- include('../modules/calendar', { 
                        unitId: '1',
                        calendarData: calendar2 || {}
                    }) %>
                </div>
            </div>
        </section>

        <!-- Rezervacija sekcija -->
        <section class="reservation-section section-spacing">
            <div class="container">
                <div class="reservation-wrapper">
                    <div class="reservation-header reservation-section-header">
                        <h2 class="section-title">Reservieren Sie Ihren Aufenthalt</h2>
                        <p>Überprüfen Sie die Verfügbarkeit und buchen Sie Ihre ideale Unterkunft in Šibenik</p>
                    </div>
                    <div class="reservation-content">
                        <%- include('../modules/reservation-form') %>
                    </div>
                </div>
            </div>
        </section>

        <!-- Theme Slider sekcija -->
        <section class="theme-section">
            <div class="container">
                <div class="theme-controller">
                    <h3 class="theme-title">Farbthema der Seite</h3>
                    <div class="theme-slider-container">
                        <div class="theme-icon moon">
                            <img src="/images/icons/moon.png" alt="Mjesec">
                        </div>
                        <div class="slider-wrapper">
                            <input type="range" id="themeSlider" class="theme-slider" min="0" max="100" value="50">
                            <div class="slider-track"></div>
                            <div class="slider-thumb"></div>
                        </div>
                        <div class="theme-icon sun">
                            <img src="/images/icons/sun.png" alt="Sunce">
                        </div>
                    </div>
                    <p class="theme-description">Passen Sie die Helligkeit der Seite nach Ihren Wünschen an</p>
                    <div class="time-display">
                        <p class="detected-time">Erkanntes Zeit: <span id="current-time">--:--:-- --</span></p>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <%- include('../modules/footer') %>
    
    <script src="/javascripts/hr/home.js"></script>
    <script src="/javascripts/reviews.js"></script>
    <script>
        // Dinamičko mijenjanje pozadine ovisno o vremenu
        function setHeroBackground() {
            const hour = new Date().getHours();
            const heroSection = document.querySelector('.hero-section');
            
            if (hour >= 20 || hour < 6) {
                heroSection.style.backgroundImage = "url('/images/apartments/apartman-vrt/main-night.jpg')";
            } else {
                heroSection.style.backgroundImage = "url('/images/apartments/apartman-vrt/main-day.jpg')";
            }
        }
        
        // Initialize reviews module for apartman-s-vrtom
        document.addEventListener('DOMContentLoaded', function() {
            setHeroBackground();
            
            // Auto-select "Apartment with Garden" on this page
            const apartmentSelect = document.getElementById('apartment');
            if (apartmentSelect) {
                apartmentSelect.value = '1'; // Apartment with Garden
            }
            
            console.log('Reviews module initialized for apartman-s-vrtom');
        });
    </script>
</body>
</html>
