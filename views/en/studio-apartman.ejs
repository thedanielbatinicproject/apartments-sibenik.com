<!DOCTYPE html>
<html lang="en">
<head>
    <%- include('../modules/head', { pageTitle: 'Studio apartment - Apartmani Šibenik', device: device }) %>
    <link rel="stylesheet" href="/stylesheets/hr/home.css">
    <link rel="stylesheet" href="/stylesheets/index/reviews.css">
    <style>
        /* Poboljšanje kontrasta za studio apartment stranicu */
        .hero-section .hero-title {
            color: #ffffff;
            text-shadow: 2px 2px 8px rgba(0, 0, 0, 0.7), 0 0 20px rgba(0, 0, 0, 0.5);
            font-weight: 900;
        }
        
        .hero-section .hero-description {
            color: #f8f9fa;
            text-shadow: 1px 1px 6px rgba(0, 0, 0, 0.8), 0 0 15px rgba(0, 0, 0, 0.4);
            font-weight: 500;
        }
        
        .hero-section .feature-item span {
            color: #ffffff;
            text-shadow: 1px 1px 4px rgba(0, 0, 0, 0.7);
            font-weight: 600;
        }
        
        .hero-section .explore-btn.primary {
            background: rgba(14, 165, 233, 0.95);
            border: 2px solid rgba(255, 255, 255, 0.3);
            backdrop-filter: blur(10px);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }
        
        .hero-section .explore-btn.secondary {
            background: rgba(255, 255, 255, 0.15);
            border: 2px solid rgba(255, 255, 255, 0.4);
            color: #ffffff;
            backdrop-filter: blur(10px);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
        }
        
        .hero-section .explore-btn.secondary:hover {
            background: rgba(255, 255, 255, 0.25);
            border-color: rgba(255, 255, 255, 0.6);
        }
        
        /* Optimizacija reviews modula u hero sekciji */
        .hero-visual .reviews-module {
            width: 90%;
            height: 70%;
        }
        
        /* SPECIFIČAN OVERRIDE ZA REVIEW KARTICE - SAMO ZA OVU STRANICU */
        body.apartman-s-vrtom .hero-visual .reviews-module .review-card {
            background: rgba(30, 144, 255, 0.15) !important;
            backdrop-filter: blur(8px) !important;
            -webkit-backdrop-filter: blur(8px) !important;
        }
        
        /* Dodatni override za sigurnost */
        body.apartman-s-vrtom .review-card[data-review-id] {
            background: rgba(30, 144, 255, 0.15) !important;
            backdrop-filter: blur(8px) !important;
            -webkit-backdrop-filter: blur(8px) !important;
        }
        
        .hero-visual .reviews-module {
            margin: 0 auto;
            overflow-y: auto; /* Omogućavamo vertikalno skrolanje */
            /* Skrivanje scroll bara */
            scrollbar-width: none; /* Firefox */
            -ms-overflow-style: none; /* Internet Explorer 10+ */
            /* Zadržavamo originalni glassmorphism design iz reviews.css */
        }
        
        /* Skrivanje scroll bara za WebKit browsere (Chrome, Safari, Edge) */
        .hero-visual .reviews-module::-webkit-scrollbar {
            display: none;
        }
        
        /* Optimizacija hero-visual kontejnera */
        .hero-visual {
            min-height: 500px;
            display: flex !important;
            align-items: center !important;
            justify-content: center !important;
        }
        
        /* Responsive prilagodbe za hero-visual */
        @media (max-width: 1024px) {
            .hero-visual .reviews-module {
                width: 85%;
                height: 75%;
            }
        }
        
        @media (max-width: 768px) {
            .hero-visual .reviews-module {
                width: 90%;
                height: 80%;
            }
        }
        
        @media (max-width: 480px) {
            .hero-visual .reviews-module {
                width: 95%;
                height: 85%;
            }
        }
    </style>
</head>
<body class="studio-apartman">
    <%- include('../modules/header', { lang: 'en', base: '/en/desktop' }) %>
    
    <main>
        <!-- Hero sekcija -->
        <section class="hero-section" style="background-image: url('/images/apartments/studio/main-day.jpg');">
            <div class="hero-content">
                <h1 class="hero-title">Studio Apartment <img src="/images/icons/apartment.png" alt="apartment" class="hearth-icon"></h1>
                <p class="hero-description">Studio apartment with free parking, ideal for couples. Enjoy the beauty and amenities that Šibenik has to offer.</p>

                <div class="hero-features">
                    <div class="feature-item">
                        <img src="/images/icons/unesco.png" alt="UNESCO" class="feature-icon">
                        <span>10 minutes to UNESCO monument</span>
                    </div>
                    <div class="feature-item">
                        <img src="/images/icons/beach.png" alt="Beach" class="feature-icon">
                        <span>25 minutes to beach</span>
                    </div>
                    <div class="feature-item">
                        <img src="/images/icons/parking.png" alt="Parking" class="feature-icon">
                        <span>Free parking</span>
                    </div>
                </div>

                <div class="hero-actions">
                    <button class="explore-btn primary" onclick="smoothScrollToSection('.reservation-section')">
                        <span>Send inquiry</span>
                    </button>
                    <button class="explore-btn secondary" onclick="smoothScrollToSection('.about-apartment')">
                        <span>Learn more</span>
                    </button>
                </div>
            </div>
            <div class="hero-visual">
                <%- include('../modules/reviews', { 
                    unitId: '1',
                    averageRating: reviewsData?.averageRating || 4.9,
                    totalReviews: reviewsData?.totalReviews || 127,
                    platforms: reviewsData?.platforms || {
                        airbnb: { rating: 4.9, totalReviews: 67 },
                        booking: { rating: 4.8, totalReviews: 60 }
                    },
                    reviews: reviewsData?.allReviews || [], // Koristimo sve recenzije za Load More funkcionalnost
                    upvoteData: upvoteData || null
                }) %>
            </div>
        </section>

        <!-- O apartmanu sekcija -->
        <section class="about-apartment section-spacing">
            <div class="container">
                <div class="content-grid">
                    <div class="text-content">
                        <h2 class="section-title">About studio apartment</h2>
                        <div class="text-block">
                            <p><strong>Your comfort corner in the heart of Šibenik</strong> - The studio apartment is located in the very center of the city, just a few steps from the local market, bus, and train stations. Here you are in close proximity to all city amenities while enjoying the peace of a family home.</p>

                            <p><strong>Everything you need for a carefree stay</strong> - The apartment is modernly furnished, air-conditioned, and equipped with Wi-Fi internet. It has a comfortable double bed and one extra bed, a fully equipped kitchen, and a spacious bathroom. You have at your disposal a washing machine, television, fresh linens, towels, and all the basic amenities for a pleasant stay.</p>

                            <p><strong>Practicality at your fingertips</strong> - Guests are provided with free parking near the house. Everything you need – from kitchen supplies to baby equipment – is already waiting for you in the apartment if you requested it.</p>

                            <p><strong>Ideal for families and travelers</strong> - The studio is also suitable for families with small children – a baby cot is available. Safety is ensured with a fire extinguisher and a first aid kit.</p>

                            <p><strong>The perfect starting point for exploration</strong> - Whether you are in Šibenik for business, tourism, or relaxation, this studio apartment is an ideal choice. Enjoy your morning coffee, explore the city's landmarks, or relax with a book – everything is within reach.</p>
                        </div>
                    </div>
                    <div class="gallery-content">
                        <div class="apartment-gallery">
                            <%- include('../modules/gallery', { 
                                images: [
                                    { fullsize: '/galleries/apartments/studio/studio-1.jpg', thumbnail: '/galleries/apartments/studio/studio-1.jpg', alt: 'Studio apartman - Slika 1' },
                                    { fullsize: '/galleries/apartments/studio/studio-2.jpg', thumbnail: '/galleries/apartments/studio/studio-2.jpg', alt: 'Studio apartman - Slika 2' },
                                    { fullsize: '/galleries/apartments/studio/studio-3.jpg', thumbnail: '/galleries/apartments/studio/studio-3.jpg', alt: 'Studio apartman - Slika 3' },
                                    { fullsize: '/galleries/apartments/studio/studio-4.jpg', thumbnail: '/galleries/apartments/studio/studio-4.jpg', alt: 'Studio apartman - Slika 4' },
                                    { fullsize: '/galleries/apartments/studio/studio-5.jpg', thumbnail: '/galleries/apartments/studio/studio-5.jpg', alt: 'Studio apartman - Slika 5' },
                                    { fullsize: '/galleries/apartments/studio/studio-6.jpg', thumbnail: '/galleries/apartments/studio/studio-6.jpg', alt: 'Studio apartman - Slika 6' },
                                    { fullsize: '/galleries/apartments/studio/studio-7.jpg', thumbnail: '/galleries/apartments/studio/studio-7.jpg', alt: 'Studio apartman - Slika 7' },
                                    { fullsize: '/galleries/apartments/studio/studio-8.jpg', thumbnail: '/galleries/apartments/studio/studio-8.jpg', alt: 'Studio apartman - Slika 8' },
                                    { fullsize: '/galleries/apartments/studio/studio-9.jpg', thumbnail: '/galleries/apartments/studio/studio-9.jpg', alt: 'Studio apartman - Slika 9' },
                                    { fullsize: '/galleries/apartments/studio/studio-10.jpg', thumbnail: '/galleries/apartments/studio/studio-10.jpg', alt: 'Studio apartman - Slika 10' },
                                    { fullsize: '/galleries/apartments/studio/studio-11.jpg', thumbnail: '/galleries/apartments/studio/studio-11.jpg', alt: 'Studio apartman - Slika 11' },
                                    { fullsize: '/galleries/apartments/studio/studio-12.jpg', thumbnail: '/galleries/apartments/studio/studio-12.jpg', alt: 'Studio apartman - Slika 12' },
                                    { fullsize: '/galleries/apartments/studio/studio-13.jpg', thumbnail: '/galleries/apartments/studio/studio-13.jpg', alt: 'Studio apartman - Slika 13' }
                                ] 
                            }) %>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Kalendar i rezervacija sekcija -->
        <section class="calendar-reservation-section section-spacing">
            <div class="container">
                <div class="calendar-header">
                    <h2>Calendar Reservations</h2>
                </div>
                
                <!-- Kalendar modul -->
                <div class="calendar-wrapper">
                    <%- include('../modules/calendar', { calendarData: calendar1 }) %>
                </div>
            </div>
        </section>

        <!-- Rezervacija sekcija -->
        <section class="reservation-section section-spacing">
            <div class="container">
                <div class="reservation-wrapper">
                    <div class="reservation-header reservation-section-header">
                        <h2 class="section-title">Book Your Stay</h2>
                        <p>Check availability and book your ideal accommodation in Šibenik</p>
                    </div>
                    <div class="reservation-content">
                        <%- include('../modules/reservation-form') %>
                    </div>
                </div>
            </div>
        </section>

        <!-- Theme Slider sekcija -->
        <section class="theme-section">
            <div class="container">
                <div class="theme-controller">
                    <h3 class="theme-title">Color theme</h3>
                    <div class="theme-slider-container">
                        <div class="theme-icon moon">
                            <img src="/images/icons/moon.png" alt="Moon">
                        </div>
                        <div class="slider-wrapper">
                            <input type="range" id="themeSlider" class="theme-slider" min="0" max="100" value="50">
                            <div class="slider-track"></div>
                            <div class="slider-thumb"></div>
                        </div>
                        <div class="theme-icon sun">
                            <img src="/images/icons/sun.png" alt="Sun">
                        </div>
                    </div>
                    <p class="theme-description">Set brightness level to your preference</p>
                    <div class="time-display">
                        <p class="detected-time">Detected time: <span id="current-time">--:--:-- --</span></p>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <%- include('../modules/footer') %>
    
    <script src="/javascripts/hr/home.js"></script>
    <script src="/javascripts/reviews.js"></script>
    <script>
        // Dinamičko mijenjanje pozadine ovisno o vremenu
        function setHeroBackground() {
            const hour = new Date().getHours();
            const heroSection = document.querySelector('.hero-section');
            
            if (hour >= 20 || hour < 6) {
                heroSection.style.backgroundImage = "url('/images/apartments/studio/main-night.jpg')";
            } else {
                heroSection.style.backgroundImage = "url('/images/apartments/studio/main-day.jpg')";
            }
        }
        
        // Initialize reviews module for studio apartments
        document.addEventListener('DOMContentLoaded', function() {
            setHeroBackground();

            // Auto-select "Studio Apartment" on this page
            const apartmentSelect = document.getElementById('apartment');
            if (apartmentSelect) {
                apartmentSelect.value = '2'; // Studio apartments
            }
            
            console.log('Reviews module initialized for studio apartments');
        });
    </script>
</body>
</html>
