<!DOCTYPE html>
<html lang="en">
<head>
    <%- include('../modules/head', { pageTitle: 'Garden apartment - Apartmani Šibenik', device: device }) %>
    <link rel="stylesheet" href="/stylesheets/hr/home.css">
    <link rel="stylesheet" href="/stylesheets/index/reviews.css">
     <style>
        /* Poboljšanje kontrasta za studio apartment stranicu */
        .hero-section .hero-title {
            color: #ffffff;
            text-shadow: 2px 2px 8px rgba(0, 0, 0, 0.7), 0 0 20px rgba(0, 0, 0, 0.5);
            font-weight: 900;
        }
        
        .hero-section .hero-description {
            color: #f8f9fa;
            text-shadow: 1px 1px 6px rgba(0, 0, 0, 0.8), 0 0 15px rgba(0, 0, 0, 0.4);
            font-weight: 500;
        }
        
        .hero-section .feature-item span {
            color: #ffffff;
            text-shadow: 1px 1px 4px rgba(0, 0, 0, 0.7);
            font-weight: 600;
        }
        
        .hero-section .explore-btn.primary {
            background: rgba(14, 165, 233, 0.95);
            border: 2px solid rgba(255, 255, 255, 0.3);
            backdrop-filter: blur(10px);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }
        
        .hero-section .explore-btn.secondary {
            background: rgba(255, 255, 255, 0.15);
            border: 2px solid rgba(255, 255, 255, 0.4);
            color: #ffffff;
            backdrop-filter: blur(10px);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
        }
        
        .hero-section .explore-btn.secondary:hover {
            background: rgba(255, 255, 255, 0.25);
            border-color: rgba(255, 255, 255, 0.6);
        }
        
        /* SPECIFIČAN OVERRIDE ZA REVIEW KARTICE - SAMO ZA OVU STRANICU */
        body.apartman-s-vrtom .hero-visual .reviews-module .review-card {
            background: rgba(30, 144, 255, 0.15) !important;
            backdrop-filter: blur(8px) !important;
            -webkit-backdrop-filter: blur(8px) !important;
        }
        
        /* Dodatni override za sigurnost */
        body.apartman-s-vrtom .review-card[data-review-id] {
            background: rgba(30, 144, 255, 0.15) !important;
            backdrop-filter: blur(8px) !important;
            -webkit-backdrop-filter: blur(8px) !important;
        }
        
        .hero-visual .reviews-module {
            width: 90%;
            height: 70%;
            margin: 0 auto;
            overflow-y: auto; /* Omogućavamo vertikalno skrolanje */
            /* Skrivanje scroll bara */
            scrollbar-width: none; /* Firefox */
            -ms-overflow-style: none; /* Internet Explorer 10+ */
            /* Zadržavamo originalni glassmorphism design iz reviews.css */
        }
        
        /* Skrivanje scroll bara za WebKit browsere (Chrome, Safari, Edge) */
        .hero-visual .reviews-module::-webkit-scrollbar {
            display: none;
        }
        
        /* Optimizacija hero-visual kontejnera */
        .hero-visual {
            min-height: 500px;
            display: flex !important;
            align-items: center !important;
            justify-content: center !important;
        }
        
        /* Responsive prilagodbe za hero-visual */
        @media (max-width: 1024px) {
            .hero-visual .reviews-module {
                width: 85%;
                height: 75%;
            }
        }
        
        @media (max-width: 768px) {
            .hero-visual .reviews-module {
                width: 90%;
                height: 80%;
            }
        }
        
        @media (max-width: 480px) {
            .hero-visual .reviews-module {
                width: 95%;
                height: 85%;
            }
        }

        .hero-image {
            width: 80vw;
            border-radius: 24px;
            box-shadow: 0 4px 24px rgba(92, 85, 63, 0.22), 0 1.5px 8px rgba(0,0,0,0.10);
            transition: transform 0.3s ease-in;
        }
        .hero-image:hover {
            transform: scale(1.005);
            transition: transform 0.3s ease-in;
        }
    </style>
</head>
<body class="apartman-s-vrtom">
    <%- include('../modules/header', { lang: 'en', base: '/en/desktop' }) %>
    
    <main>
        <!-- Hero sekcija -->
        <section class="hero-section" style="background-image: url('/images/apartments/apartman-vrt/main-day.jpg');">
            <div class="hero-content">
                <h1 class="hero-title" style="color: #ffffff; text-shadow: 2px 2px 8px rgba(0, 0, 0, 0.8), 0 0 15px rgba(0, 0, 0, 0.6); font-weight: 900;">Garden Apartment <img src="/images/icons/garden.png" alt="vrt" class="hearth-icon"></h1>
                <p class="hero-description">Spacious and luxurious apartment with a private courtyard and barbecue, ideal for families up to 4 people. Enjoy the tranquility of nature with all modern amenities in the heart of Šibenik.</p>

                <div class="hero-features">
                    <div class="feature-item">
                        <img src="/images/icons/unesco.png" alt="UNESCO" class="feature-icon">
                        <span>10 min to UNESCO monument</span>
                    </div>
                    <div class="feature-item">
                        <img src="/images/icons/beach.png" alt="Beach" class="feature-icon">
                        <span>25 min to beach</span>
                    </div>
                    <div class="feature-item">
                        <img src="/images/icons/parking.png" alt="Parking" class="feature-icon">
                        <span>Free parking</span>
                    </div>
                </div>

                <div class="hero-actions">
                    <button class="explore-btn primary" onclick="smoothScrollToSection('.reservation-section')">
                        <span>Send Inquiry</span>
                    </button>
                    <button class="explore-btn secondary" onclick="smoothScrollToSection('.about-apartment')">
                        <span>Learn More</span>
                    </button>
                </div>
            </div>
            <div class="hero-visual">
                <%- include('../modules/reviews', { 
                    unitId: '1',
                    averageRating: reviewsData?.averageRating || 4.9,
                    totalReviews: reviewsData?.totalReviews || 127,
                    platforms: reviewsData?.platforms || {
                        airbnb: { rating: 4.9, totalReviews: 67 },
                        booking: { rating: 4.8, totalReviews: 60 }
                    },
                    reviews: reviewsData?.allReviews || [], // Koristimo sve recenzije za Load More funkcionalnost
                    upvoteData: upvoteData || null
                }) %>
            </div>
        </section>

        <!-- O apartmanu sekcija -->
        <section class="about-apartment section-spacing">
            <div class="container">
                <div class="content-grid">
                    <div class="text-content">
                        <h2 class="section-title">About the Apartment</h2>
                        <div class="text-block">
                            <p><strong>Your oasis of peace in the heart of Šibenik</strong> - Beautifully decorated, air-conditioned apartment with comfortable beds, fully equipped kitchen, spacious bathroom, additional room, and a spectacular garden full of flowers and turtles. Here you can start your day with morning coffee, enjoy lunch in the fresh air, or have a glass of wine under the starry sky with dinner made on the outdoor barbecue.</p>

                            <p><strong>Everything at your disposal</strong> - As our guests, you have exclusive access to the entire apartment and garden. For stays longer than a week, it is possible to get a discount on accommodation - take the perfect opportunity to explore the rich cultural heritage of the city!</p>

                            <p><strong>We are always here when you need advice</strong> - Your hosts live on the floor above and are available at any time for advice on the best way to explore the city, restaurant recommendations, hidden beaches, or anything else that can make your stay unforgettable.</p>

                            <p><strong>The perfect blend of comfort and practicality</strong> - The apartment is equipped with all the necessary amenities for complete relaxation: free parking near the accommodation, washing machine, free TV and Wi-Fi, coffee maker for the perfect morning wake-up, hairdryer, shampoo, and a beautifully landscaped garden where you can enjoy the peace away from the city noise.</p>

                            <p><strong>Ideal location for exploration</strong> - Located in a quiet part of Šibenik, the apartment is the perfect starting point for discovering the UNESCO Cathedral of St. James, strolling through the old town, or planning trips to the nearby national parks of Krka and Kornati.</p>
                        </div>
                    </div>
                    <div class="gallery-content">
                        <div class="apartment-gallery">
                            <%- include('../modules/gallery', { 
                                images: [
                                    { fullsize: '/galleries/apartments/apartman-vrt/veliki-1.jpg', thumbnail: '/galleries/apartments/apartman-vrt/veliki-1.jpg', alt: 'Apartman s vrtom - Slika 1' },
                                    { fullsize: '/galleries/apartments/apartman-vrt/veliki-2.jpg', thumbnail: '/galleries/apartments/apartman-vrt/veliki-2.jpg', alt: 'Apartman s vrtom - Slika 2' },
                                    { fullsize: '/galleries/apartments/apartman-vrt/veliki-3.jpg', thumbnail: '/galleries/apartments/apartman-vrt/veliki-3.jpg', alt: 'Apartman s vrtom - Slika 3' },
                                    { fullsize: '/galleries/apartments/apartman-vrt/veliki-4.jpg', thumbnail: '/galleries/apartments/apartman-vrt/veliki-4.jpg', alt: 'Apartman s vrtom - Slika 4' },
                                    { fullsize: '/galleries/apartments/apartman-vrt/veliki-5.jpg', thumbnail: '/galleries/apartments/apartman-vrt/veliki-5.jpg', alt: 'Apartman s vrtom - Slika 5' },
                                    { fullsize: '/galleries/apartments/apartman-vrt/veliki-6.jpg', thumbnail: '/galleries/apartments/apartman-vrt/veliki-6.jpg', alt: 'Apartman s vrtom - Slika 6' },
                                    { fullsize: '/galleries/apartments/apartman-vrt/veliki-7.jpg', thumbnail: '/galleries/apartments/apartman-vrt/veliki-7.jpg', alt: 'Apartman s vrtom - Slika 7' },
                                    { fullsize: '/galleries/apartments/apartman-vrt/veliki-8.jpg', thumbnail: '/galleries/apartments/apartman-vrt/veliki-8.jpg', alt: 'Apartman s vrtom - Slika 8' },
                                    { fullsize: '/galleries/apartments/apartman-vrt/veliki-9.jpg', thumbnail: '/galleries/apartments/apartman-vrt/veliki-9.jpg', alt: 'Apartman s vrtom - Slika 9' },
                                    { fullsize: '/galleries/apartments/apartman-vrt/veliki-10.jpg', thumbnail: '/galleries/apartments/apartman-vrt/veliki-10.jpg', alt: 'Apartman s vrtom - Slika 10' },
                                    { fullsize: '/galleries/apartments/apartman-vrt/veliki-11.jpg', thumbnail: '/galleries/apartments/apartman-vrt/veliki-11.jpg', alt: 'Apartman s vrtom - Slika 11' },
                                    { fullsize: '/galleries/apartments/apartman-vrt/veliki-12.jpg', thumbnail: '/galleries/apartments/apartman-vrt/veliki-12.jpg', alt: 'Apartman s vrtom - Slika 12' },
                                    { fullsize: '/galleries/apartments/apartman-vrt/veliki-13.jpg', thumbnail: '/galleries/apartments/apartman-vrt/veliki-13.jpg', alt: 'Apartman s vrtom - Slika 13' },
                                    { fullsize: '/galleries/apartments/apartman-vrt/veliki-14.jpg', thumbnail: '/galleries/apartments/apartman-vrt/veliki-14.jpg', alt: 'Apartman s vrtom - Slika 14' },
                                    { fullsize: '/galleries/apartments/apartman-vrt/veliki-15.jpg', thumbnail: '/galleries/apartments/apartman-vrt/veliki-15.jpg', alt: 'Apartman s vrtom - Slika 15' },
                                    { fullsize: '/galleries/apartments/apartman-vrt/veliki-16.jpg', thumbnail: '/galleries/apartments/apartman-vrt/veliki-16.jpg', alt: 'Apartman s vrtom - Slika 16' },
                                    { fullsize: '/galleries/apartments/apartman-vrt/veliki-17.jpg', thumbnail: '/galleries/apartments/apartman-vrt/veliki-17.jpg', alt: 'Apartman s vrtom - Slika 17' },
                                    { fullsize: '/galleries/apartments/apartman-vrt/veliki-18.jpg', thumbnail: '/galleries/apartments/apartman-vrt/veliki-18.jpg', alt: 'Apartman s vrtom - Slika 18' },
                                    { fullsize: '/galleries/apartments/apartman-vrt/veliki-19.jpg', thumbnail: '/galleries/apartments/apartman-vrt/veliki-19.jpg', alt: 'Apartman s vrtom - Slika 19' },
                                    { fullsize: '/galleries/apartments/apartman-vrt/veliki-20.jpg', thumbnail: '/galleries/apartments/apartman-vrt/veliki-20.jpg', alt: 'Apartman s vrtom - Slika 20' },
                                    { fullsize: '/galleries/apartments/apartman-vrt/veliki-21.jpg', thumbnail: '/galleries/apartments/apartman-vrt/veliki-21.jpg', alt: 'Apartman s vrtom - Slika 21' },
                                    { fullsize: '/galleries/apartments/apartman-vrt/veliki-22.jpg', thumbnail: '/galleries/apartments/apartman-vrt/veliki-22.jpg', alt: 'Apartman s vrtom - Slika 22' },
                                    { fullsize: '/galleries/apartments/apartman-vrt/veliki-23.jpg', thumbnail: '/galleries/apartments/apartman-vrt/veliki-23.jpg', alt: 'Apartman s vrtom - Slika 23' },
                                    { fullsize: '/galleries/apartments/apartman-vrt/veliki-24.jpg', thumbnail: '/galleries/apartments/apartman-vrt/veliki-24.jpg', alt: 'Apartman s vrtom - Slika 24' },
                                    { fullsize: '/galleries/apartments/apartman-vrt/veliki-25.jpg', thumbnail: '/galleries/apartments/apartman-vrt/veliki-25.jpg', alt: 'Apartman s vrtom - Slika 25' },
                                    { fullsize: '/galleries/apartments/apartman-vrt/veliki-26.jpg', thumbnail: '/galleries/apartments/apartman-vrt/veliki-26.jpg', alt: 'Apartman s vrtom - Slika 26' }
                                ] 
                            }) %>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Kalendar i rezervacija sekcija -->
        <section class="calendar-reservation-section section-spacing">
            <div class="container">
                <div class="calendar-header">
                    <h2>Book calendar</h2>
                </div>
                
                <!-- Kalendar modul -->
                <div class="calendar-wrapper">
                    <%- include('../modules/calendar', { 
                        unitId: '1',
                        calendarData: calendar2 || {}
                    }) %>
                </div>
            </div>
        </section>

        <!-- Rezervacija sekcija -->
        <section class="reservation-section section-spacing">
            <div class="container">
                <div class="reservation-wrapper">
                    <div class="reservation-header reservation-section-header">
                        <h2 class="section-title">Book your stay</h2>
                        <p>Check availability and book your ideal accommodation in Šibenik</p>
                    </div>
                    <div class="reservation-content">
                        <%- include('../modules/reservation-form') %>
                    </div>
                </div>
            </div>
        </section>

        <!-- Theme Slider sekcija -->
        <section class="theme-section">
            <div class="container">
                <div class="theme-controller">
                    <h3 class="theme-title">Color theme</h3>
                    <div class="theme-slider-container">
                        <div class="theme-icon moon">
                            <img src="/images/icons/moon.png" alt="Moon">
                        </div>
                        <div class="slider-wrapper">
                            <input type="range" id="themeSlider" class="theme-slider" min="0" max="100" value="50">
                            <div class="slider-track"></div>
                            <div class="slider-thumb"></div>
                        </div>
                        <div class="theme-icon sun">
                            <img src="/images/icons/sun.png" alt="Sun">
                        </div>
                    </div>
                    <p class="theme-description">Adjust the page brightness according to your preference</p>
                    <div class="time-display">
                        <p class="detected-time">Detected time: <span id="current-time">--:--:-- --</span></p>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <%- include('../modules/footer') %>
    
    <script src="/javascripts/hr/home.js"></script>
    <script src="/javascripts/reviews.js"></script>
    <script>
        // Dinamičko mijenjanje pozadine ovisno o vremenu
        function setHeroBackground() {
            const hour = new Date().getHours();
            const heroSection = document.querySelector('.hero-section');
            
            if (hour >= 20 || hour < 6) {
                heroSection.style.backgroundImage = "url('/images/apartments/apartman-vrt/main-night.jpg')";
            } else {
                heroSection.style.backgroundImage = "url('/images/apartments/apartman-vrt/main-day.jpg')";
            }
        }
        
        // Initialize reviews module for apartman-s-vrtom
        document.addEventListener('DOMContentLoaded', function() {
            setHeroBackground();
            
            // Auto-select "Apartment with Garden" on this page
            const apartmentSelect = document.getElementById('apartment');
            if (apartmentSelect) {
                apartmentSelect.value = '1'; // Apartment with Garden
            }
            
            console.log('Reviews module initialized for apartman-s-vrtom');
        });
    </script>
</body>
</html>
